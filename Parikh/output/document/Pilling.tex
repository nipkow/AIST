%
\begin{isabellebody}%
\setisabellecontext{Pilling}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Pilling's proof of Parikh's theorem%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isakeywordONE{theory}\isamarkupfalse%
\ Pilling\isanewline
\ \ \isakeywordTWO{imports}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}Eq{\isacharunderscore}{\kern0pt}Sys{\isachardoublequoteclose}\isanewline
\isakeywordTWO{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
We prove Parikh's theorem, closely following Pilling's proof \cite{Pilling}. The rough
idea is as follows: As seen above, each CFG can be interpreted as a system of equations of the
first type and we can easily convert it into a system of the second type by applying the Parikh
image on both sides of each equation. Pilling now shows that there is a regular solution to this
system and that this solution is furthermore minimal.
Using the relations explored in the last section we prove that the CFG's language is a minimal
solution of the same sytem and hence that the Parikh image of the CFG's language and of the regular
solution must be identical; this proves Parikh's theorem.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Special representation of regular language expressions%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
To each regular language expression and variable \isa{x} corresponds a second regular language
expression with the same Parikh image and of the form depicted in equation (3) in \cite{Pilling}.
We call regular language expressions of this form "bipartite regular language expressions" since
they decompose into two subexpressions where one of them contains the variable \isa{x} and the other
one does not:%
\end{isamarkuptext}\isamarkuptrue%
\isakeywordONE{definition}\isamarkupfalse%
\ bipart{\isacharunderscore}{\kern0pt}rlexp\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ rlexp\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeywordTWO{where}\isanewline
\ \ {\isachardoublequoteopen}bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f\ {\isasymequiv}\ {\isasymexists}p\ q{\isachardot}{\kern0pt}\ reg{\isacharunderscore}{\kern0pt}eval\ p\ {\isasymand}\ reg{\isacharunderscore}{\kern0pt}eval\ q\ {\isasymand}\isanewline
\ \ \ \ f\ {\isacharequal}{\kern0pt}\ Union\ p\ {\isacharparenleft}{\kern0pt}Concat\ q\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ x\ {\isasymnotin}\ vars\ p{\isachardoublequoteclose}%
\begin{isamarkuptext}%
All bipartite regular language expressions evaluate to regular languages. Additionally,
for each \isa{\isaconst{reg{\isacharunderscore}{\kern0pt}eval}} regular language expression and variable \isa{x}, there exists a bipartite
regular language expression with identical Parikh image and almost identical set of variables.
While the first proof is simple, the second one is more complex and needs the results of the
sections 2.3 and 2.4:%
\end{isamarkuptext}\isamarkuptrue%
\isakeywordONE{lemma}\isamarkupfalse%
\ {\isachardoublequoteopen}bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f\ {\isasymLongrightarrow}\ reg{\isacharunderscore}{\kern0pt}eval\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isakeywordONE{unfolding}\isamarkupfalse%
\ bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ reg{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}Variable{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ {\isacharparenleft}{\kern0pt}Var\ y{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Var\ y{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Union\ {\isacharparenleft}{\kern0pt}Const\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Concat\ {\isacharparenleft}{\kern0pt}Const\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTHREE{case}\isamarkupfalse%
\ True\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{using}\isamarkupfalse%
\ emptyset{\isacharunderscore}{\kern0pt}regular\ epsilon{\isacharunderscore}{\kern0pt}regular\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eval\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}Var\ y{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\ \isakeywordTWO{for}\ v\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ valuation{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ True\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vars\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ {\isacharparenleft}{\kern0pt}Var\ y{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ True\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{ultimately}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ metis\isanewline
\isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Union\ {\isacharparenleft}{\kern0pt}Var\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Concat\ {\isacharparenleft}{\kern0pt}Const\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTHREE{case}\isamarkupfalse%
\ False\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{using}\isamarkupfalse%
\ emptyset{\isacharunderscore}{\kern0pt}regular\ epsilon{\isacharunderscore}{\kern0pt}regular\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eval\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}Var\ y{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\ \isakeywordTWO{for}\ v\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ valuation{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ False\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vars\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ {\isacharparenleft}{\kern0pt}Var\ y{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{ultimately}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ metis\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ reg{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}Const{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}regular{\isacharunderscore}{\kern0pt}lang\ l{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}{\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ {\isacharparenleft}{\kern0pt}Const\ l{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Const\ l{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Union\ {\isacharparenleft}{\kern0pt}Const\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Concat\ {\isacharparenleft}{\kern0pt}Const\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{using}\isamarkupfalse%
\ assms\ emptyset{\isacharunderscore}{\kern0pt}regular\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eval\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}Const\ l{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\ \isakeywordTWO{for}\ v\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ valuation{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vars\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ {\isacharparenleft}{\kern0pt}Const\ l{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\ \isanewline
\ \ \isakeywordONE{ultimately}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ metis\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ reg{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}Union{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}{\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ f{\isadigit{1}}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ f{\isadigit{2}}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}{\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ {\isacharparenleft}{\kern0pt}Union\ f{\isadigit{1}}\ f{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Union\ f{\isadigit{1}}\ f{\isadigit{2}}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ assms\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharprime}{\kern0pt}\ f{\isadigit{2}}{\isacharprime}{\kern0pt}\ \isakeywordTWO{where}\ f{\isadigit{1}}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isadigit{1}}{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isadigit{1}}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ f{\isadigit{1}}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isadigit{1}}{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordTWO{and}\ f{\isadigit{2}}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isadigit{2}}{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isadigit{2}}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ f{\isadigit{2}}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isadigit{2}}{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ p{\isadigit{1}}\ q{\isadigit{1}}\ p{\isadigit{2}}\ q{\isadigit{2}}\ \isakeywordTWO{where}\ p{\isadigit{1}}{\isacharunderscore}{\kern0pt}q{\isadigit{1}}{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ p{\isadigit{1}}\ {\isasymand}\ reg{\isacharunderscore}{\kern0pt}eval\ q{\isadigit{1}}\ {\isasymand}\isanewline
\ \ \ \ f{\isadigit{1}}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Union\ p{\isadigit{1}}\ {\isacharparenleft}{\kern0pt}Concat\ q{\isadigit{1}}\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}y\ {\isasymin}\ vars\ p{\isadigit{1}}{\isachardot}{\kern0pt}\ y\ {\isasymnoteq}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordTWO{and}\ p{\isadigit{2}}{\isacharunderscore}{\kern0pt}q{\isadigit{2}}{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ p{\isadigit{2}}\ {\isasymand}\ reg{\isacharunderscore}{\kern0pt}eval\ q{\isadigit{2}}\ {\isasymand}\ f{\isadigit{2}}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Union\ p{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}Concat\ q{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}y\ {\isasymin}\ vars\ p{\isadigit{2}}{\isachardot}{\kern0pt}\ y\ {\isasymnoteq}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{unfolding}\isamarkupfalse%
\ bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Union\ {\isacharparenleft}{\kern0pt}Union\ p{\isadigit{1}}\ p{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Concat\ {\isacharparenleft}{\kern0pt}Union\ q{\isadigit{1}}\ q{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{unfolding}\isamarkupfalse%
\ bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{using}\isamarkupfalse%
\ p{\isadigit{1}}{\isacharunderscore}{\kern0pt}q{\isadigit{1}}{\isacharunderscore}{\kern0pt}intro\ p{\isadigit{2}}{\isacharunderscore}{\kern0pt}q{\isadigit{2}}{\isacharunderscore}{\kern0pt}intro\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Union\ f{\isadigit{1}}\ f{\isadigit{2}}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{for}\ v\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ p{\isadigit{1}}{\isacharunderscore}{\kern0pt}q{\isadigit{1}}{\isacharunderscore}{\kern0pt}intro\ p{\isadigit{2}}{\isacharunderscore}{\kern0pt}q{\isadigit{2}}{\isacharunderscore}{\kern0pt}intro\ f{\isadigit{1}}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro\ f{\isadigit{2}}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ conc{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ sup{\isacharunderscore}{\kern0pt}assoc\ sup{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{from}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro\ f{\isadigit{2}}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro\ p{\isadigit{1}}{\isacharunderscore}{\kern0pt}q{\isadigit{1}}{\isacharunderscore}{\kern0pt}intro\ p{\isadigit{2}}{\isacharunderscore}{\kern0pt}q{\isadigit{2}}{\isacharunderscore}{\kern0pt}intro\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vars\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ {\isacharparenleft}{\kern0pt}Union\ f{\isadigit{1}}\ f{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{ultimately}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ metis\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ reg{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}Concat{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}{\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ f{\isadigit{1}}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ f{\isadigit{2}}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}{\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ {\isacharparenleft}{\kern0pt}Concat\ f{\isadigit{1}}\ f{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Concat\ f{\isadigit{1}}\ f{\isadigit{2}}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ assms\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharprime}{\kern0pt}\ f{\isadigit{2}}{\isacharprime}{\kern0pt}\ \isakeywordTWO{where}\ f{\isadigit{1}}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isadigit{1}}{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isadigit{1}}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ f{\isadigit{1}}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isadigit{1}}{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordTWO{and}\ f{\isadigit{2}}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isadigit{2}}{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isadigit{2}}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ f{\isadigit{2}}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isadigit{2}}{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ p{\isadigit{1}}\ q{\isadigit{1}}\ p{\isadigit{2}}\ q{\isadigit{2}}\ \isakeywordTWO{where}\ p{\isadigit{1}}{\isacharunderscore}{\kern0pt}q{\isadigit{1}}{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ p{\isadigit{1}}\ {\isasymand}\ reg{\isacharunderscore}{\kern0pt}eval\ q{\isadigit{1}}\ {\isasymand}\isanewline
\ \ \ \ f{\isadigit{1}}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Union\ p{\isadigit{1}}\ {\isacharparenleft}{\kern0pt}Concat\ q{\isadigit{1}}\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}y\ {\isasymin}\ vars\ p{\isadigit{1}}{\isachardot}{\kern0pt}\ y\ {\isasymnoteq}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordTWO{and}\ p{\isadigit{2}}{\isacharunderscore}{\kern0pt}q{\isadigit{2}}{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ p{\isadigit{2}}\ {\isasymand}\ reg{\isacharunderscore}{\kern0pt}eval\ q{\isadigit{2}}\ {\isasymand}\ f{\isadigit{2}}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Union\ p{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}Concat\ q{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}y\ {\isasymin}\ vars\ p{\isadigit{2}}{\isachardot}{\kern0pt}\ y\ {\isasymnoteq}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{unfolding}\isamarkupfalse%
\ bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}q{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Union\ {\isacharparenleft}{\kern0pt}Concat\ q{\isadigit{1}}\ {\isacharparenleft}{\kern0pt}Concat\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}\ q{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Union\ {\isacharparenleft}{\kern0pt}Concat\ p{\isadigit{1}}\ q{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Concat\ q{\isadigit{1}}\ p{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Union\ {\isacharparenleft}{\kern0pt}Concat\ p{\isadigit{1}}\ p{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Concat\ {\isacharquery}{\kern0pt}q{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Concat\ f{\isadigit{1}}\ f{\isadigit{2}}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ allI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordTHREE{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ f{\isadigit{2}}{\isacharunderscore}{\kern0pt}subst{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ p{\isadigit{2}}\ v\ {\isasymunion}\ eval\ q{\isadigit{2}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ p{\isadigit{2}}{\isacharunderscore}{\kern0pt}q{\isadigit{2}}{\isacharunderscore}{\kern0pt}intro\ f{\isadigit{2}}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Concat\ f{\isadigit{1}}\ f{\isadigit{2}}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}eval\ p{\isadigit{1}}\ v\ {\isasymunion}\ eval\ q{\isadigit{1}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ f{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ p{\isadigit{1}}{\isacharunderscore}{\kern0pt}q{\isadigit{1}}{\isacharunderscore}{\kern0pt}intro\ f{\isadigit{1}}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro\isanewline
\ \ \ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ eval{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ eval{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ eval{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ parikh{\isacharunderscore}{\kern0pt}conc{\isacharunderscore}{\kern0pt}right{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{also}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ p{\isadigit{1}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ f{\isadigit{2}}\ v\ {\isasymunion}\ eval\ q{\isadigit{1}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ f{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ conc{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ conc{\isacharunderscore}{\kern0pt}assoc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{also}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ p{\isadigit{1}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ {\isacharparenleft}{\kern0pt}eval\ p{\isadigit{2}}\ v\ {\isasymunion}\ eval\ q{\isadigit{2}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isasymunion}\ eval\ q{\isadigit{1}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ {\isacharparenleft}{\kern0pt}eval\ p{\isadigit{2}}\ v\ {\isasymunion}\ eval\ q{\isadigit{2}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ f{\isadigit{2}}{\isacharunderscore}{\kern0pt}subst\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ parikh{\isacharunderscore}{\kern0pt}conc{\isacharunderscore}{\kern0pt}right\ parikh{\isacharunderscore}{\kern0pt}img{\isacharunderscore}{\kern0pt}Un\ parikh{\isacharunderscore}{\kern0pt}img{\isacharunderscore}{\kern0pt}commut{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{also}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ p{\isadigit{1}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ p{\isadigit{2}}\ v\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}eval\ p{\isadigit{1}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ q{\isadigit{2}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x\ {\isasymunion}\isanewline
\ \ \ \ \ \ \ \ eval\ q{\isadigit{1}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ p{\isadigit{2}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x\ {\isasymunion}\ eval\ q{\isadigit{1}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ q{\isadigit{2}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ parikh{\isacharunderscore}{\kern0pt}img{\isacharunderscore}{\kern0pt}commut\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ conc{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ parikh{\isacharunderscore}{\kern0pt}conc{\isacharunderscore}{\kern0pt}right\ parikh{\isacharunderscore}{\kern0pt}img{\isacharunderscore}{\kern0pt}Un\ sup{\isacharunderscore}{\kern0pt}assoc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{also}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ p{\isadigit{1}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ p{\isadigit{2}}\ v\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}eval\ p{\isadigit{1}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ q{\isadigit{2}}\ v\ {\isasymunion}\isanewline
\ \ \ \ \ \ \ \ eval\ q{\isadigit{1}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ p{\isadigit{2}}\ v\ {\isasymunion}\ eval\ q{\isadigit{1}}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ q{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ conc{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ conc{\isacharunderscore}{\kern0pt}assoc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{also}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Un{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{finally}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Concat\ f{\isadigit{1}}\ f{\isadigit{2}}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{unfolding}\isamarkupfalse%
\ bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{using}\isamarkupfalse%
\ p{\isadigit{1}}{\isacharunderscore}{\kern0pt}q{\isadigit{1}}{\isacharunderscore}{\kern0pt}intro\ p{\isadigit{2}}{\isacharunderscore}{\kern0pt}q{\isadigit{2}}{\isacharunderscore}{\kern0pt}intro\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{from}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro\ f{\isadigit{2}}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro\ p{\isadigit{1}}{\isacharunderscore}{\kern0pt}q{\isadigit{1}}{\isacharunderscore}{\kern0pt}intro\ p{\isadigit{2}}{\isacharunderscore}{\kern0pt}q{\isadigit{2}}{\isacharunderscore}{\kern0pt}intro\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vars\ {\isacharquery}{\kern0pt}f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ {\isacharparenleft}{\kern0pt}Concat\ f{\isadigit{1}}\ f{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{ultimately}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ metis\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ reg{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}Star{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}{\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ f\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}{\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ {\isacharparenleft}{\kern0pt}Star\ f{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Star\ f{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ assms\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ f{\isacharprime}{\kern0pt}\ \isakeywordTWO{where}\ f{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ f\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ p\ q\ \isakeywordTWO{where}\ p{\isacharunderscore}{\kern0pt}q{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ p\ {\isasymand}\ reg{\isacharunderscore}{\kern0pt}eval\ q\ {\isasymand}\isanewline
\ \ \ \ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Union\ p\ {\isacharparenleft}{\kern0pt}Concat\ q\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}y\ {\isasymin}\ vars\ p{\isachardot}{\kern0pt}\ y\ {\isasymnoteq}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{unfolding}\isamarkupfalse%
\ bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}q{\isacharunderscore}{\kern0pt}new\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Concat\ {\isacharparenleft}{\kern0pt}Star\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Concat\ {\isacharparenleft}{\kern0pt}Star\ {\isacharparenleft}{\kern0pt}Concat\ q\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Concat\ {\isacharparenleft}{\kern0pt}Star\ {\isacharparenleft}{\kern0pt}Concat\ q\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}f{\isacharunderscore}{\kern0pt}new\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Union\ {\isacharparenleft}{\kern0pt}Star\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Concat\ {\isacharquery}{\kern0pt}q{\isacharunderscore}{\kern0pt}new\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Star\ f{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharquery}{\kern0pt}f{\isacharunderscore}{\kern0pt}new\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ allI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordTHREE{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Star\ f{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}star\ {\isacharparenleft}{\kern0pt}eval\ p\ v\ {\isasymunion}\ eval\ q\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ f{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro\ parikh{\isacharunderscore}{\kern0pt}star{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}eq\ p{\isacharunderscore}{\kern0pt}q{\isacharunderscore}{\kern0pt}intro\isanewline
\ \ \ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ eval{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ eval{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ eval{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ eval{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{also}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}star\ {\isacharparenleft}{\kern0pt}eval\ p\ v{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ star\ {\isacharparenleft}{\kern0pt}eval\ q\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ parikh{\isacharunderscore}{\kern0pt}img{\isacharunderscore}{\kern0pt}star\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isakeywordONE{also}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}star\ {\isacharparenleft}{\kern0pt}eval\ p\ v{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ star\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ star\ {\isacharparenleft}{\kern0pt}eval\ q\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ q\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Un{\isacharunderscore}{\kern0pt}commute\ conc{\isacharunderscore}{\kern0pt}star{\isacharunderscore}{\kern0pt}comm\ star{\isacharunderscore}{\kern0pt}idemp\ star{\isacharunderscore}{\kern0pt}unfold{\isacharunderscore}{\kern0pt}left{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{also}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}star\ {\isacharparenleft}{\kern0pt}eval\ p\ v{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ star\ {\isacharparenleft}{\kern0pt}star\ {\isacharparenleft}{\kern0pt}eval\ q\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ q\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isakeywordONE{also}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}star\ {\isacharparenleft}{\kern0pt}eval\ p\ v{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ star\ {\isacharparenleft}{\kern0pt}eval\ q\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ star\ {\isacharparenleft}{\kern0pt}eval\ q\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ q\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ parikh{\isacharunderscore}{\kern0pt}img{\isacharunderscore}{\kern0pt}star{\isadigit{2}}\ parikh{\isacharunderscore}{\kern0pt}conc{\isacharunderscore}{\kern0pt}left\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isakeywordONE{also}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}star\ {\isacharparenleft}{\kern0pt}eval\ p\ v{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ star\ {\isacharparenleft}{\kern0pt}eval\ p\ v{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ star\ {\isacharparenleft}{\kern0pt}eval\ q\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ star\ {\isacharparenleft}{\kern0pt}eval\ q\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ q\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ conc{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{also}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharquery}{\kern0pt}f{\isacharunderscore}{\kern0pt}new\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ conc{\isacharunderscore}{\kern0pt}assoc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{finally}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Star\ f{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharquery}{\kern0pt}f{\isacharunderscore}{\kern0pt}new\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ {\isacharquery}{\kern0pt}f{\isacharunderscore}{\kern0pt}new{\isachardoublequoteclose}\ \isakeywordONE{unfolding}\isamarkupfalse%
\ bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}q{\isacharunderscore}{\kern0pt}intro\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{from}\isamarkupfalse%
\ f{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro\ p{\isacharunderscore}{\kern0pt}q{\isacharunderscore}{\kern0pt}intro\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vars\ {\isacharquery}{\kern0pt}f{\isacharunderscore}{\kern0pt}new\ {\isacharequal}{\kern0pt}\ vars\ {\isacharparenleft}{\kern0pt}Star\ f{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{ultimately}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ metis\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ reg{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ f\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ f\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}s{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ f\ rule{\isacharcolon}{\kern0pt}\ reg{\isacharunderscore}{\kern0pt}eval{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordTHREE{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ uu{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ reg{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}Variable\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \isakeywordTHREE{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ l{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}regular{\isacharunderscore}{\kern0pt}lang\ l{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ reg{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}Const{\isacharbrackleft}{\kern0pt}OF\ this{\isacharbrackright}{\kern0pt}\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \isakeywordTHREE{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ f\ g{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ f\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ g\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ g\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ reg{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}Union{\isacharbrackleft}{\kern0pt}OF\ this{\isacharbrackright}{\kern0pt}\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \isakeywordTHREE{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{4}}\ f\ g{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ f\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ g\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ g\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ reg{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}Concat{\isacharbrackleft}{\kern0pt}OF\ this{\isacharbrackright}{\kern0pt}\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \isakeywordTHREE{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{5}}\ f{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}f{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ f{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ f\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ f{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ reg{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}Star{\isacharbrackleft}{\kern0pt}OF\ this{\isacharbrackright}{\kern0pt}\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Minimal solution for a single equation%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
The aim is to prove that every system of equations of the second type
has some minimal solution which is \isa{\isaconst{reg{\isacharunderscore}{\kern0pt}eval}}. In this section, we prove this property
only for the case of a single equation. First we assume that the equation is bipartite but later
in this section we will abandon this assumption.%
\end{isamarkuptext}\isamarkuptrue%
\isakeywordONE{locale}\isamarkupfalse%
\ single{\isacharunderscore}{\kern0pt}bipartite{\isacharunderscore}{\kern0pt}eq\ {\isacharequal}{\kern0pt}\isanewline
\ \ \isakeywordTWO{fixes}\ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{fixes}\ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ rlexp{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{fixes}\ q\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ rlexp{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{assumes}\ p{\isacharunderscore}{\kern0pt}reg{\isacharcolon}{\kern0pt}\ \ \ \ \ \ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{assumes}\ q{\isacharunderscore}{\kern0pt}reg{\isacharcolon}{\kern0pt}\ \ \ \ \ \ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ q{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{assumes}\ x{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ vars\ p{\isachardoublequoteclose}\isanewline
\isakeywordTWO{begin}%
\begin{isamarkuptext}%
The equation and the minimal solution look as follows. Here, \isa{x} describes the variable whose
solution is to be determined. In the subsequent lemmas, we prove that the solution is \isa{\isaconst{reg{\isacharunderscore}{\kern0pt}eval}}
and fulfills each of the three conditions of the predicate \isa{\isaconst{partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}ineq}}.
In particular, we will use the lemmas of the sections 2.5 and 2.6 here:%
\end{isamarkuptext}\isamarkuptrue%
\isakeywordONE{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}eq\ {\isasymequiv}\ Union\ p\ {\isacharparenleft}{\kern0pt}Concat\ q\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isakeywordONE{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}sol\ {\isasymequiv}\ Concat\ {\isacharparenleft}{\kern0pt}Star\ {\isacharparenleft}{\kern0pt}subst\ {\isacharparenleft}{\kern0pt}Var{\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ sol{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}reg{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ sol{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}reg\ q{\isacharunderscore}{\kern0pt}reg\ \isakeywordONE{have}\isamarkupfalse%
\ r{\isacharunderscore}{\kern0pt}reg{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}subst\ {\isacharparenleft}{\kern0pt}Var{\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ subst{\isacharunderscore}{\kern0pt}reg{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}update\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}reg\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ sol{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ sol{\isacharunderscore}{\kern0pt}vars{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vars\ sol\ {\isasymsubseteq}\ vars\ eq\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}upd\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Var{\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}subst{\isacharunderscore}{\kern0pt}q\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}subst\ {\isacharquery}{\kern0pt}upd\ q{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}p\ \isakeywordONE{have}\isamarkupfalse%
\ vars{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vars\ p\ {\isasymsubseteq}\ vars\ eq\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vars\ {\isacharquery}{\kern0pt}subst{\isacharunderscore}{\kern0pt}q\ {\isasymsubseteq}\ vars\ eq\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isakeywordTHREE{fix}\isamarkupfalse%
\ y\isanewline
\ \ \ \ \isakeywordTHREE{assume}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}subst{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ vars\ {\isacharquery}{\kern0pt}subst{\isacharunderscore}{\kern0pt}q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{with}\isamarkupfalse%
\ vars{\isacharunderscore}{\kern0pt}subst\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ y{\isacharprime}{\kern0pt}\ \isakeywordTWO{where}\ y{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y{\isacharprime}{\kern0pt}\ {\isasymin}\ vars\ q{\isachardoublequoteclose}\ \isakeywordTWO{and}\ y{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ vars\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}upd\ y{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}y\ {\isasymin}\ vars\ eq\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}y{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isakeywordONE{with}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}y{\isacharprime}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}p\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isakeywordONE{with}\isamarkupfalse%
\ y{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}q\ y{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}y{\isacharprime}{\kern0pt}\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}p\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ sol{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}partial{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq\ x\ eq\ sol{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ allI{\isacharcomma}{\kern0pt}\ rule\ impI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordTHREE{fix}\isamarkupfalse%
\ v\isanewline
\ \ \isakeywordTHREE{assume}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ x\ {\isacharequal}{\kern0pt}\ eval\ sol\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}r\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}subst\ {\isacharparenleft}{\kern0pt}Var\ {\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ q{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}upd\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Var{\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ sol{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}q{\isacharunderscore}{\kern0pt}subst\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}subst\ {\isacharquery}{\kern0pt}upd\ q{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}eq{\isacharunderscore}{\kern0pt}subst\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}subst\ {\isacharquery}{\kern0pt}upd\ eq{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ homogeneous{\isacharunderscore}{\kern0pt}app{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharquery}{\kern0pt}q{\isacharunderscore}{\kern0pt}subst\ v{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Concat\ {\isacharparenleft}{\kern0pt}Star\ {\isacharquery}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}r{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ rlexp{\isacharunderscore}{\kern0pt}homogeneous\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}p\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eval\ {\isacharparenleft}{\kern0pt}subst\ {\isacharquery}{\kern0pt}upd\ p{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ eval\ p\ v{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}vars{\isacharunderscore}{\kern0pt}subst{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharquery}{\kern0pt}eq{\isacharunderscore}{\kern0pt}subst\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ p\ v\ {\isasymunion}\ eval\ {\isacharquery}{\kern0pt}q{\isacharunderscore}{\kern0pt}subst\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ sol\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{also}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ p\ v\ {\isasymunion}\ eval\ {\isacharparenleft}{\kern0pt}Concat\ {\isacharparenleft}{\kern0pt}Star\ {\isacharquery}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}r{\isacharparenright}{\kern0pt}\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ sol\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ homogeneous{\isacharunderscore}{\kern0pt}app\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}refl\ parikh{\isacharunderscore}{\kern0pt}conc{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}subset\ parikh{\isacharunderscore}{\kern0pt}img{\isacharunderscore}{\kern0pt}Un\ sup{\isachardot}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{also}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ p\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ \ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}star\ {\isacharparenleft}{\kern0pt}eval\ {\isacharquery}{\kern0pt}r\ v{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ {\isacharquery}{\kern0pt}r\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ star\ {\isacharparenleft}{\kern0pt}eval\ {\isacharquery}{\kern0pt}r\ v{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ p\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ conc{\isacharunderscore}{\kern0pt}assoc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{also}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ p\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ \ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharquery}{\kern0pt}r\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ star\ {\isacharparenleft}{\kern0pt}eval\ {\isacharquery}{\kern0pt}r\ v{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ p\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ parikh{\isacharunderscore}{\kern0pt}img{\isacharunderscore}{\kern0pt}commut\ conc{\isacharunderscore}{\kern0pt}star{\isacharunderscore}{\kern0pt}star\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ conc{\isacharunderscore}{\kern0pt}assoc\ conc{\isacharunderscore}{\kern0pt}star{\isacharunderscore}{\kern0pt}comm{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{also}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}star\ {\isacharparenleft}{\kern0pt}eval\ {\isacharquery}{\kern0pt}r\ v{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ eval\ p\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ star{\isacharunderscore}{\kern0pt}unfold{\isacharunderscore}{\kern0pt}left\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}\ conc{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ conc{\isacharunderscore}{\kern0pt}assoc\ conc{\isacharunderscore}{\kern0pt}epsilon{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ parikh{\isacharunderscore}{\kern0pt}img{\isacharunderscore}{\kern0pt}Un\ sup{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{finally}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharquery}{\kern0pt}eq{\isacharunderscore}{\kern0pt}subst\ v{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}v\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ v{\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ eval\ sol\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}triv\ \isakeywordONE{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eval\ eq\ v\ {\isacharequal}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}subst\ {\isacharparenleft}{\kern0pt}Var{\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ sol{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ eq{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ substitution{\isacharunderscore}{\kern0pt}lemma{\isacharunderscore}{\kern0pt}update{\isacharbrackleft}{\kern0pt}\isakeywordTWO{where}\ f{\isacharequal}{\kern0pt}eq{\isacharbrackright}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}comm\ x\ eq\ v{\isachardoublequoteclose}\ \isakeywordONE{unfolding}\isamarkupfalse%
\ solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ argo\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ sol{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}minimal{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ is{\isacharunderscore}{\kern0pt}sol{\isacharcolon}{\kern0pt}\ \ \ \ {\isachardoublequoteopen}solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}comm\ x\ eq\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordTWO{and}\ sol{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}s{\isacharcolon}{\kern0pt}\ \ \ \ {\isachardoublequoteopen}v\ x\ {\isacharequal}{\kern0pt}\ eval\ sol{\isacharprime}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordTWO{shows}\ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ sol\ v{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}v\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}sol\ sol{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}s\ \isakeywordONE{have}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}sol{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ q\ v\ {\isacharat}{\kern0pt}{\isacharat}{\kern0pt}\ v\ x\ {\isasymunion}\ eval\ p\ v{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}v\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Concat\ {\isacharparenleft}{\kern0pt}Star\ q{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}v\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ parikh{\isacharunderscore}{\kern0pt}img{\isacharunderscore}{\kern0pt}arden\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}sol{\isacharprime}{\kern0pt}\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ p\ v{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}subst\ {\isacharparenleft}{\kern0pt}Var{\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ q\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ parikh{\isacharunderscore}{\kern0pt}img{\isacharunderscore}{\kern0pt}subst{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}upd\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}triv\ subst{\isacharunderscore}{\kern0pt}id{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Star\ {\isacharparenleft}{\kern0pt}subst\ {\isacharparenleft}{\kern0pt}Var{\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Star\ q{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ parikh{\isacharunderscore}{\kern0pt}star{\isacharunderscore}{\kern0pt}mono\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ sol\ v{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}Concat\ {\isacharparenleft}{\kern0pt}Star\ q{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ parikh{\isacharunderscore}{\kern0pt}conc{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}subset\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ eval{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ {\isadigit{1}}\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ fast\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
In summary, \isa{sol} is a minimal partial solution and it is \isa{\isaconst{reg{\isacharunderscore}{\kern0pt}eval}}:%
\end{isamarkuptext}\isamarkuptrue%
\isakeywordONE{lemma}\isamarkupfalse%
\ sol{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}minimal{\isacharunderscore}{\kern0pt}reg{\isacharunderscore}{\kern0pt}sol{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ sol\ {\isasymand}\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}ineq\ x\ eq\ sol{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isakeywordONE{using}\isamarkupfalse%
\ sol{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}reg\ sol{\isacharunderscore}{\kern0pt}vars\ sol{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq\ sol{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}minimal\isanewline
\ \ \isakeywordONE{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordTWO{end}\isamarkupfalse%
%
\begin{isamarkuptext}%
As announced at the beginning of this section, we now extend the previous result to arbitrary
equations, i.e. we show that each equation has some minimal partial solution which is
\isa{\isaconst{reg{\isacharunderscore}{\kern0pt}eval}}:%
\end{isamarkuptext}\isamarkuptrue%
\isakeywordONE{lemma}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}minimal{\isacharunderscore}{\kern0pt}reg{\isacharunderscore}{\kern0pt}sol{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ eq{\isacharunderscore}{\kern0pt}reg{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ eq{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}{\isasymexists}sol{\isachardot}{\kern0pt}\ reg{\isacharunderscore}{\kern0pt}eval\ sol\ {\isasymand}\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}ineq\ x\ eq\ sol{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ reg{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharbrackleft}{\kern0pt}OF\ eq{\isacharunderscore}{\kern0pt}reg{\isacharbrackright}{\kern0pt}\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ eq{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isakeywordTWO{where}\ eq{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bipart{\isacharunderscore}{\kern0pt}rlexp\ x\ eq{\isacharprime}{\kern0pt}\ {\isasymand}\ vars\ eq{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vars\ eq\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ eq\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ eq{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ p\ q\isanewline
\ \ \ \ \isakeywordTWO{where}\ p{\isacharunderscore}{\kern0pt}q{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ p\ {\isasymand}\ reg{\isacharunderscore}{\kern0pt}eval\ q\ {\isasymand}\ eq{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Union\ p\ {\isacharparenleft}{\kern0pt}Concat\ q\ {\isacharparenleft}{\kern0pt}Var\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ x\ {\isasymnotin}\ vars\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ bipart{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}sol\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Concat\ {\isacharparenleft}{\kern0pt}Star\ {\isacharparenleft}{\kern0pt}subst\ {\isacharparenleft}{\kern0pt}Var{\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}q{\isacharunderscore}{\kern0pt}intro\ \isakeywordONE{have}\isamarkupfalse%
\ sol{\isacharunderscore}{\kern0pt}prop{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ {\isacharquery}{\kern0pt}sol\ {\isasymand}\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}ineq\ x\ eq{\isacharprime}{\kern0pt}\ {\isacharquery}{\kern0pt}sol{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ single{\isacharunderscore}{\kern0pt}bipartite{\isacharunderscore}{\kern0pt}eq{\isachardot}{\kern0pt}sol{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}minimal{\isacharunderscore}{\kern0pt}reg{\isacharunderscore}{\kern0pt}sol\ \isakeywordONE{unfolding}\isamarkupfalse%
\ single{\isacharunderscore}{\kern0pt}bipartite{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ eq{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}ineq\ x\ eq\ {\isacharquery}{\kern0pt}sol{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ same{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}same{\isacharunderscore}{\kern0pt}parikh{\isacharunderscore}{\kern0pt}img\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ sol{\isacharunderscore}{\kern0pt}prop\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Minimal solution of the whole system of equations%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
In this section we will extend the last section's result to whole systems of equations.
For this purpose, we will show by induction on \isa{r} that the first \isa{r} equations have
some minimal partial solution which is \isa{\isaconst{reg{\isacharunderscore}{\kern0pt}eval}}.

We start with the centerpiece of the induction step: If a \isa{\isaconst{reg{\isacharunderscore}{\kern0pt}eval}} and minimal partial solution
\isa{sols} exists for the first \isa{r} equations and furthermore a \isa{\isaconst{reg{\isacharunderscore}{\kern0pt}eval}} and minimal partial solution
\isa{sol{\isacharunderscore}{\kern0pt}r} exists for the \isa{r}-th equation, then there exists a \isa{\isaconst{reg{\isacharunderscore}{\kern0pt}eval}} and minimal partial solution
for the first \isa{Suc\ r} equations as well.%
\end{isamarkuptext}\isamarkuptrue%
\isakeywordONE{locale}\isamarkupfalse%
\ min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}induction{\isacharunderscore}{\kern0pt}step\ {\isacharequal}{\kern0pt}\isanewline
\ \ \isakeywordTWO{fixes}\ r\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
\ \ \ \ \isakeywordTWO{and}\ sys\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ eq{\isacharunderscore}{\kern0pt}sys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordTWO{and}\ sols\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ rlexp{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordTWO{and}\ sol{\isacharunderscore}{\kern0pt}r\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ rlexp{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{assumes}\ eqs{\isacharunderscore}{\kern0pt}reg{\isacharcolon}{\kern0pt}\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}eq\ {\isasymin}\ set\ sys{\isachardot}{\kern0pt}\ reg{\isacharunderscore}{\kern0pt}eval\ eq{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordTWO{and}\ sys{\isacharunderscore}{\kern0pt}valid{\isacharcolon}{\kern0pt}\ \ \ \ {\isachardoublequoteopen}{\isasymforall}eq\ {\isasymin}\ set\ sys{\isachardot}{\kern0pt}\ {\isasymforall}x\ {\isasymin}\ vars\ eq{\isachardot}{\kern0pt}\ x\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordTWO{and}\ r{\isacharunderscore}{\kern0pt}valid{\isacharcolon}{\kern0pt}\ \ \ \ \ \ {\isachardoublequoteopen}r\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordTWO{and}\ sols{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys\ r\ sys\ sols{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordTWO{and}\ sols{\isacharunderscore}{\kern0pt}reg{\isacharcolon}{\kern0pt}\ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}{\kern0pt}\ reg{\isacharunderscore}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordTWO{and}\ sol{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}ineq\ r\ {\isacharparenleft}{\kern0pt}subst{\isacharunderscore}{\kern0pt}sys\ sols\ sys\ {\isacharbang}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ sol{\isacharunderscore}{\kern0pt}r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordTWO{and}\ sol{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}reg{\isacharcolon}{\kern0pt}\ \ \ \ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ sol{\isacharunderscore}{\kern0pt}r{\isachardoublequoteclose}\isanewline
\isakeywordTWO{begin}%
\begin{isamarkuptext}%
Throughout the proof, a modified system of equations will be occasionally used to simplify
the proof; this modified system is obtained by substituting the partial solutions of
the first \isa{r} equations into the original system. Additionally
we retrieve a partial solution for the first \isa{Suc\ r} equations - named \isa{sols{\isacharprime}{\kern0pt}} - by substituting the partial
solution of the \isa{r}-th equation into the partial solutions of each of the first \isa{r} equations:%
\end{isamarkuptext}\isamarkuptrue%
\isakeywordONE{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}sys{\isacharprime}{\kern0pt}\ {\isasymequiv}\ subst{\isacharunderscore}{\kern0pt}sys\ sols\ sys{\isachardoublequoteclose}\isanewline
\isakeywordONE{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}sols{\isacharprime}{\kern0pt}\ {\isasymequiv}\ {\isasymlambda}i{\isachardot}{\kern0pt}\ subst\ {\isacharparenleft}{\kern0pt}Var{\isacharparenleft}{\kern0pt}r\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ sol{\isacharunderscore}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ sols{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}r{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sols{\isacharprime}{\kern0pt}\ r\ {\isacharequal}{\kern0pt}\ sol{\isacharunderscore}{\kern0pt}r{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isakeywordONE{using}\isamarkupfalse%
\ sols{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol\ \isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The next lemmas show that \isa{\isaconst{sols{\isacharprime}{\kern0pt}}} is still \isa{\isaconst{reg{\isacharunderscore}{\kern0pt}eval}} and that it complies with
each of the four conditions defined by the predicate \isa{\isaconst{partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys}}:%
\end{isamarkuptext}\isamarkuptrue%
\isakeywordONE{lemma}\isamarkupfalse%
\ sols{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}reg{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}{\kern0pt}\ reg{\isacharunderscore}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}sols{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isakeywordONE{using}\isamarkupfalse%
\ sols{\isacharunderscore}{\kern0pt}reg\ sol{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}reg\ \isakeywordONE{using}\isamarkupfalse%
\ subst{\isacharunderscore}{\kern0pt}reg{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}update\ \isakeywordONE{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ sols{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}solution{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys\ {\isacharparenleft}{\kern0pt}take\ {\isacharparenleft}{\kern0pt}Suc\ r{\isacharparenright}{\kern0pt}\ sys{\isacharparenright}{\kern0pt}\ sols{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{unfolding}\isamarkupfalse%
\ solution{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ allI{\isacharcomma}{\kern0pt}\ rule\ impI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordTHREE{fix}\isamarkupfalse%
\ v\isanewline
\ \ \isakeywordTHREE{assume}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}sols{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}x{\isachardot}{\kern0pt}\ v\ x\ {\isacharequal}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}sols{\isacharprime}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ sols{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}r\ s{\isacharunderscore}{\kern0pt}sols{\isacharprime}{\kern0pt}\ \isakeywordONE{have}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}r{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ r\ {\isacharequal}{\kern0pt}\ eval\ sol{\isacharunderscore}{\kern0pt}r\ v{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}sols{\isacharprime}{\kern0pt}\ \isakeywordONE{have}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}sols{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ x\ {\isacharequal}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}sols\ x{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\ \isakeywordTWO{for}\ x\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ substitution{\isacharunderscore}{\kern0pt}lemma{\isacharunderscore}{\kern0pt}update{\isacharbrackleft}{\kern0pt}\isakeywordTWO{where}\ f{\isacharequal}{\kern0pt}{\isachardoublequoteopen}sols\ x{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}idem{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ sols{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol\ \isakeywordONE{have}\isamarkupfalse%
\ solves{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}sys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm\ {\isacharparenleft}{\kern0pt}take\ r\ sys{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\ solution{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ meson\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eval\ {\isacharparenleft}{\kern0pt}sys\ {\isacharbang}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}y{\isachardot}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}sols\ y{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}sys{\isacharprime}{\kern0pt}\ {\isacharbang}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ substitution{\isacharunderscore}{\kern0pt}lemma{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymlambda}y{\isachardot}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}sols\ y{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ r{\isacharunderscore}{\kern0pt}valid\ Suc{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}lessD\ subst{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}subst{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}sols\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eval\ {\isacharparenleft}{\kern0pt}sys\ {\isacharbang}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}sys{\isacharprime}{\kern0pt}\ {\isacharbang}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}vars{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ sol{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol\ s{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}r\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}sys\ {\isacharbang}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}v\ r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}def\ partial{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}def\ solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ solves{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}sys\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm\ {\isacharparenleft}{\kern0pt}take\ {\isacharparenleft}{\kern0pt}Suc\ r{\isacharparenright}{\kern0pt}\ sys{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}def\ solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ less{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ sols{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}min{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}sols{\isadigit{2}}\ v{\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ v{\isadigit{2}}\ x\ {\isacharequal}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}sols{\isadigit{2}}\ x{\isacharparenright}{\kern0pt}\ v{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymand}\ solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm\ {\isacharparenleft}{\kern0pt}take\ {\isacharparenleft}{\kern0pt}Suc\ r{\isacharparenright}{\kern0pt}\ sys{\isacharparenright}{\kern0pt}\ v{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}i{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}sols{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ v{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}v{\isadigit{2}}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ allI\ {\isacharbar}{\kern0pt}\ rule\ impI{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isakeywordTHREE{fix}\isamarkupfalse%
\ sols{\isadigit{2}}\ v{\isadigit{2}}\ i\isanewline
\ \ \isakeywordTHREE{assume}\isamarkupfalse%
\ as{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ v{\isadigit{2}}\ x\ {\isacharequal}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}sols{\isadigit{2}}\ x{\isacharparenright}{\kern0pt}\ v{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymand}\ solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm\ {\isacharparenleft}{\kern0pt}take\ {\isacharparenleft}{\kern0pt}Suc\ r{\isacharparenright}{\kern0pt}\ sys{\isacharparenright}{\kern0pt}\ v{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm\ {\isacharparenleft}{\kern0pt}take\ r\ sys{\isacharparenright}{\kern0pt}\ v{\isadigit{2}}{\isachardoublequoteclose}\ \isakeywordONE{unfolding}\isamarkupfalse%
\ solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ as\ sols{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol\ \isakeywordONE{have}\isamarkupfalse%
\ sols{\isacharunderscore}{\kern0pt}s{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}\ v{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}v{\isadigit{2}}\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{for}\ i\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eval\ {\isacharparenleft}{\kern0pt}sys{\isacharprime}{\kern0pt}\ {\isacharbang}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ v{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}sys\ {\isacharbang}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}\ v{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ subst{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{using}\isamarkupfalse%
\ substitution{\isacharunderscore}{\kern0pt}lemma{\isacharbrackleft}{\kern0pt}\isakeywordTWO{where}\ f{\isacharequal}{\kern0pt}{\isachardoublequoteopen}sys\ {\isacharbang}{\kern0pt}\ r{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ r{\isacharunderscore}{\kern0pt}valid\ Suc{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}lessD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ sols{\isacharunderscore}{\kern0pt}s{\isadigit{2}}\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}sys{\isacharprime}{\kern0pt}\ {\isacharbang}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ v{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}sys\ {\isacharbang}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ v{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ rlexp{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}parikh{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}sys\ {\isacharbang}{\kern0pt}\ r{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ as\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}comm\ r\ {\isacharparenleft}{\kern0pt}sys{\isacharprime}{\kern0pt}\ {\isacharbang}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ v{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}def\ solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{using}\isamarkupfalse%
\ r{\isacharunderscore}{\kern0pt}valid\ \isakeywordONE{by}\isamarkupfalse%
\ force\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ as\ sol{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol\ \isakeywordONE{have}\isamarkupfalse%
\ sol{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}min{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ sol{\isacharunderscore}{\kern0pt}r\ v{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}v{\isadigit{2}}\ r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}v{\isadigit{2}}{\isacharparenleft}{\kern0pt}r\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ eval\ sol{\isacharunderscore}{\kern0pt}r\ v{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ sol{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}min\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}v{\isadigit{2}}\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{for}\ i\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ sols{\isacharunderscore}{\kern0pt}s{\isadigit{2}}\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}sols{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ v{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}v{\isadigit{2}}\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ substitution{\isacharunderscore}{\kern0pt}lemma{\isacharunderscore}{\kern0pt}update{\isacharbrackleft}{\kern0pt}\isakeywordTWO{where}\ f{\isacharequal}{\kern0pt}{\isachardoublequoteopen}sols\ i{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ rlexp{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}parikh{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}sols\ i{\isachardoublequoteclose}\ {\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ v{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ force\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ sols{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}vars{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}r{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}i\ {\isasymge}\ Suc\ r{\isachardot}{\kern0pt}\ sols{\isacharprime}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ Var\ i{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isakeywordONE{using}\isamarkupfalse%
\ sols{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol\ \isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ sols{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}vars{\isacharunderscore}{\kern0pt}leq{\isacharunderscore}{\kern0pt}r{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}i\ {\isacharless}{\kern0pt}\ Suc\ r{\isachardot}{\kern0pt}\ {\isasymforall}x\ {\isasymin}\ vars\ {\isacharparenleft}{\kern0pt}sols{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ x\ {\isasymge}\ Suc\ r\ {\isasymand}\ x\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ sols{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i\ {\isacharless}{\kern0pt}\ r{\isachardot}{\kern0pt}\ {\isasymforall}x\ {\isasymin}\ vars\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ x\ {\isasymge}\ r\ {\isasymand}\ x\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ sols{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol\ \isakeywordONE{have}\isamarkupfalse%
\ vars{\isacharunderscore}{\kern0pt}sols{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}i\ {\isacharless}{\kern0pt}\ length\ sys{\isachardot}{\kern0pt}\ {\isasymforall}x\ {\isasymin}\ vars\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ x\ {\isasymge}\ r\ {\isasymand}\ x\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ empty{\isacharunderscore}{\kern0pt}iff\ insert{\isacharunderscore}{\kern0pt}iff\ leI\ vars{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ sys{\isacharunderscore}{\kern0pt}valid\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ vars\ {\isacharparenleft}{\kern0pt}subst\ sols\ {\isacharparenleft}{\kern0pt}sys\ {\isacharbang}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ x\ {\isasymge}\ r\ {\isasymand}\ x\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\ \isakeywordTWO{if}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\ \isakeywordTWO{for}\ i\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ vars{\isacharunderscore}{\kern0pt}subst{\isacharbrackleft}{\kern0pt}of\ sols\ {\isachardoublequoteopen}sys\ {\isacharbang}{\kern0pt}\ i{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ that\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ UN{\isacharunderscore}{\kern0pt}E\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ vars\ {\isacharparenleft}{\kern0pt}sys{\isacharprime}{\kern0pt}\ {\isacharbang}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ x\ {\isasymge}\ r\ {\isasymand}\ x\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\ \isakeywordTWO{if}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\ \isakeywordTWO{for}\ i\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ subst{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{using}\isamarkupfalse%
\ r{\isacharunderscore}{\kern0pt}valid\ that\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{from}\isamarkupfalse%
\ sol{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vars\ {\isacharparenleft}{\kern0pt}sol{\isacharunderscore}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ vars\ {\isacharparenleft}{\kern0pt}sys{\isacharprime}{\kern0pt}\ {\isacharbang}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}r{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{ultimately}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ vars{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}r{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ vars\ sol{\isacharunderscore}{\kern0pt}r{\isachardot}{\kern0pt}\ x\ {\isachargreater}{\kern0pt}\ r\ {\isasymand}\ x\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{using}\isamarkupfalse%
\ r{\isacharunderscore}{\kern0pt}valid\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ DiffE\ insertCI\ nat{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}le\ subsetD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vars\ {\isacharparenleft}{\kern0pt}sols{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ vars\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}r{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ vars\ sol{\isacharunderscore}{\kern0pt}r{\isachardoublequoteclose}\ \isakeywordTWO{if}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\ \isakeywordTWO{for}\ i\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ vars{\isacharunderscore}{\kern0pt}subst{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}upper\ \isakeywordONE{by}\isamarkupfalse%
\ meson\isanewline
\ \ \isakeywordONE{ultimately}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ vars\ {\isacharparenleft}{\kern0pt}sols{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ x\ {\isachargreater}{\kern0pt}\ r\ {\isasymand}\ x\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\ \isakeywordTWO{if}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\ \isakeywordTWO{for}\ i\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ vars{\isacharunderscore}{\kern0pt}sols\ that\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ r{\isacharunderscore}{\kern0pt}valid\ Suc{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}eq\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}trans{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
In summary, \isa{\isaconst{sols{\isacharprime}{\kern0pt}}} is a minimal partial solution of the first \isa{Suc\ r} equations. This
allows us to prove the centerpiece of the induction step in the next lemma, namely that there exists
a \isa{\isaconst{reg{\isacharunderscore}{\kern0pt}eval}} and minimal partial solution for the first \isa{Suc\ r} equations:%
\end{isamarkuptext}\isamarkuptrue%
\isakeywordONE{lemma}\isamarkupfalse%
\ sols{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys\ {\isacharparenleft}{\kern0pt}Suc\ r{\isacharparenright}{\kern0pt}\ sys\ sols{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isakeywordONE{using}\isamarkupfalse%
\ sols{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}sol\ sols{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}min\ sols{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}vars{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}r\ sols{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}vars{\isacharunderscore}{\kern0pt}leq{\isacharunderscore}{\kern0pt}r\isanewline
\ \ \isakeywordONE{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}r{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymexists}sols{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys\ {\isacharparenleft}{\kern0pt}Suc\ r{\isacharparenright}{\kern0pt}\ sys\ sols{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}i{\isachardot}{\kern0pt}\ reg{\isacharunderscore}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}sols{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isakeywordONE{using}\isamarkupfalse%
\ sols{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}reg\ sols{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol\ \isakeywordONE{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordTWO{end}\isamarkupfalse%
%
\begin{isamarkuptext}%
Now follows the actual induction proof: For every \isa{r}, there exists a \isa{\isaconst{reg{\isacharunderscore}{\kern0pt}eval}} and minimal partial
solution of the first \isa{r} equations. This then implies that there also exists a regular and minimal (non-partial)
solution of the whole system:%
\end{isamarkuptext}\isamarkuptrue%
\isakeywordONE{lemma}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}minimal{\isacharunderscore}{\kern0pt}reg{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ eqs{\isacharunderscore}{\kern0pt}reg{\isacharcolon}{\kern0pt}\ \ \ {\isachardoublequoteopen}{\isasymforall}eq\ {\isasymin}\ set\ sys{\isachardot}{\kern0pt}\ reg{\isacharunderscore}{\kern0pt}eval\ eq{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordTWO{and}\ sys{\isacharunderscore}{\kern0pt}valid{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}eq\ {\isasymin}\ set\ sys{\isachardot}{\kern0pt}\ {\isasymforall}x\ {\isasymin}\ vars\ eq{\isachardot}{\kern0pt}\ x\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordTWO{and}\ r{\isacharunderscore}{\kern0pt}valid{\isacharcolon}{\kern0pt}\ \ \ {\isachardoublequoteopen}r\ {\isasymle}\ length\ sys{\isachardoublequoteclose}\ \ \ \isanewline
\ \ \ \ \isakeywordTWO{shows}\ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymexists}sols{\isachardot}{\kern0pt}\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys\ r\ sys\ sols\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}i{\isachardot}{\kern0pt}\ reg{\isacharunderscore}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{using}\isamarkupfalse%
\ assms\ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ r{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordTHREE{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}solution{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys\ {\isacharparenleft}{\kern0pt}take\ {\isadigit{0}}\ sys{\isacharparenright}{\kern0pt}\ Var{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ solution{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\ solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \isakeywordTHREE{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ r{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ sols\ \isakeywordTWO{where}\ sols{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys\ r\ sys\ sols\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}i{\isachardot}{\kern0pt}\ reg{\isacharunderscore}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}sys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}subst{\isacharunderscore}{\kern0pt}sys\ sols\ sys{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ eqs{\isacharunderscore}{\kern0pt}reg\ Suc{\isachardot}{\kern0pt}prems\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}sys\ {\isacharbang}{\kern0pt}\ r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ sols{\isacharunderscore}{\kern0pt}intro\ Suc{\isachardot}{\kern0pt}prems\ \isakeywordONE{have}\isamarkupfalse%
\ sys{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}reg{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}sys{\isacharprime}{\kern0pt}\ {\isacharbang}{\kern0pt}\ r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ subst{\isacharunderscore}{\kern0pt}reg{\isacharunderscore}{\kern0pt}eval{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}sys\ {\isacharbang}{\kern0pt}\ r{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ subst{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}subst{\isacharbrackleft}{\kern0pt}of\ r\ sys{\isacharbrackright}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ sol{\isacharunderscore}{\kern0pt}r\ \isakeywordTWO{where}\ sol{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}reg{\isacharunderscore}{\kern0pt}eval\ sol{\isacharunderscore}{\kern0pt}r\ {\isasymand}\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}ineq\ r\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}sys{\isacharprime}{\kern0pt}\ {\isacharbang}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ sol{\isacharunderscore}{\kern0pt}r{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}minimal{\isacharunderscore}{\kern0pt}reg{\isacharunderscore}{\kern0pt}sol\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ Suc\ sols{\isacharunderscore}{\kern0pt}intro\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}induction{\isacharunderscore}{\kern0pt}step\ r\ sys\ sols\ sol{\isacharunderscore}{\kern0pt}r{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}induction{\isacharunderscore}{\kern0pt}step{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ force\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}induction{\isacharunderscore}{\kern0pt}step{\isachardot}{\kern0pt}exists{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}r{\isacharbrackleft}{\kern0pt}OF\ this{\isacharbrackright}{\kern0pt}\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}minimal{\isacharunderscore}{\kern0pt}reg{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}sys{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ eqs{\isacharunderscore}{\kern0pt}reg{\isacharcolon}{\kern0pt}\ \ \ {\isachardoublequoteopen}{\isasymforall}eq\ {\isasymin}\ set\ sys{\isachardot}{\kern0pt}\ reg{\isacharunderscore}{\kern0pt}eval\ eq{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordTWO{and}\ sys{\isacharunderscore}{\kern0pt}valid{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}eq\ {\isasymin}\ set\ sys{\isachardot}{\kern0pt}\ {\isasymforall}x\ {\isasymin}\ vars\ eq{\isachardot}{\kern0pt}\ x\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordTWO{shows}\ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymexists}sols{\isachardot}{\kern0pt}\ min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm\ sys\ sols\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}i{\isachardot}{\kern0pt}\ regular{\isacharunderscore}{\kern0pt}lang\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ eqs{\isacharunderscore}{\kern0pt}reg\ sys{\isacharunderscore}{\kern0pt}valid\ \isakeywordONE{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}sols{\isachardot}{\kern0pt}\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys\ {\isacharparenleft}{\kern0pt}length\ sys{\isacharparenright}{\kern0pt}\ sys\ sols\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}i{\isachardot}{\kern0pt}\ reg{\isacharunderscore}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}minimal{\isacharunderscore}{\kern0pt}reg{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}aux\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ sols\ \isakeywordTWO{where}\isanewline
\ \ \ \ sols{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys\ {\isacharparenleft}{\kern0pt}length\ sys{\isacharparenright}{\kern0pt}\ sys\ sols\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}i{\isachardot}{\kern0pt}\ reg{\isacharunderscore}{\kern0pt}eval\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}const{\isacharunderscore}{\kern0pt}rlexp\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{if}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\ \isakeywordTWO{for}\ i\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ that\ \isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ equals{\isadigit{0}}I\ leD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ sols{\isacharunderscore}{\kern0pt}intro\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}l{\isachardot}{\kern0pt}\ regular{\isacharunderscore}{\kern0pt}lang\ l\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{if}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ sys{\isachardoublequoteclose}\ \isakeywordTWO{for}\ i\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ that\ const{\isacharunderscore}{\kern0pt}rlexp{\isacharunderscore}{\kern0pt}regular{\isacharunderscore}{\kern0pt}lang\ \isakeywordONE{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ ls\ \isakeywordTWO{where}\ ls{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}i\ {\isacharless}{\kern0pt}\ length\ sys{\isachardot}{\kern0pt}\ regular{\isacharunderscore}{\kern0pt}lang\ {\isacharparenleft}{\kern0pt}ls\ i{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ ls\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}ls{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}i{\isachardot}{\kern0pt}\ if\ i\ {\isacharless}{\kern0pt}\ length\ sys\ then\ ls\ i\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ ls{\isacharunderscore}{\kern0pt}intro\ \isakeywordONE{have}\isamarkupfalse%
\ ls{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}i\ {\isacharless}{\kern0pt}\ length\ sys{\isachardot}{\kern0pt}\ regular{\isacharunderscore}{\kern0pt}lang\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}ls{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}sols\ i{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}ls{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}i\ {\isasymge}\ length\ sys{\isachardot}{\kern0pt}\ {\isacharquery}{\kern0pt}ls{\isacharprime}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ force\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ ls{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}regular{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}regular{\isacharunderscore}{\kern0pt}lang\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}ls{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{for}\ i\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ lang{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{from}\isamarkupfalse%
\ ls{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro\ sols{\isacharunderscore}{\kern0pt}intro\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm\ sys\ {\isacharquery}{\kern0pt}ls{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\ solution{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}\ eval{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ linorder{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}less\ nless{\isacharunderscore}{\kern0pt}le\ take{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}sol{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm\ sys\ sol{\isacharprime}{\kern0pt}\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}ls{\isacharprime}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}sol{\isacharprime}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ allI{\isacharcomma}{\kern0pt}\ rule\ impI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordTHREE{fix}\isamarkupfalse%
\ sol{\isacharprime}{\kern0pt}\ x\isanewline
\ \ \ \ \isakeywordTHREE{assume}\isamarkupfalse%
\ as{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm\ sys\ sol{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}sol{\isacharunderscore}{\kern0pt}rlexps\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}i{\isachardot}{\kern0pt}\ Const\ {\isacharparenleft}{\kern0pt}sol{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{from}\isamarkupfalse%
\ as\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}solves{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm\ {\isacharparenleft}{\kern0pt}take\ {\isacharparenleft}{\kern0pt}length\ sys{\isacharparenright}{\kern0pt}\ sys{\isacharparenright}{\kern0pt}\ sol{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isakeywordONE{moreover}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sol{\isacharprime}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ eval\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}sol{\isacharunderscore}{\kern0pt}rlexps\ x{\isacharparenright}{\kern0pt}\ sol{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{for}\ x\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isakeywordONE{ultimately}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isachardot}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}ls{\isacharprime}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}sol{\isacharprime}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ sols{\isacharunderscore}{\kern0pt}intro\ \isakeywordONE{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}\ empty{\isacharunderscore}{\kern0pt}subsetI\ eval{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ls{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro\ parikh{\isacharunderscore}{\kern0pt}img{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\ \ \isakeywordONE{ultimately}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm\ sys\ {\isacharquery}{\kern0pt}ls{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{unfolding}\isamarkupfalse%
\ min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{with}\isamarkupfalse%
\ ls{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}regular\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Parikh's theorem%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Finally we are able to prove Parikh's theorem, i.e. that to each context free grammar exists
a regular language with identical Parikh image:%
\end{isamarkuptext}\isamarkuptrue%
\isakeywordONE{theorem}\isamarkupfalse%
\ Parikh{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}CFL\ {\isacharparenleft}{\kern0pt}TYPE{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ L\ {\isasymLongrightarrow}\ {\isasymexists}L{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ regular{\isacharunderscore}{\kern0pt}lang\ L{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isasymPsi}\ L\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ L{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isakeywordTHREE{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}CFL\ {\isacharparenleft}{\kern0pt}TYPE{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ L{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ P\ \isakeywordTWO{and}\ S{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharprime}{\kern0pt}n\ \isakeywordTWO{where}\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}L\ {\isacharequal}{\kern0pt}\ Lang\ P\ S\ {\isasymand}\ finite\ P{\isachardoublequoteclose}\ \isakeywordONE{unfolding}\isamarkupfalse%
\ CFL{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}S\ {\isasymin}\ Nts\ P{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isakeywordONE{from}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}Nts\ exists{\isacharunderscore}{\kern0pt}bij{\isacharunderscore}{\kern0pt}Nt{\isacharunderscore}{\kern0pt}Var\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ {\isasymgamma}\ {\isasymgamma}{\isacharprime}{\kern0pt}\ \isakeywordTWO{where}\ {\isacharasterisk}{\kern0pt}{\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bij{\isacharunderscore}{\kern0pt}Nt{\isacharunderscore}{\kern0pt}Var\ {\isacharparenleft}{\kern0pt}Nts\ P{\isacharparenright}{\kern0pt}\ {\isasymgamma}\ {\isasymgamma}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}sol\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}i{\isachardot}{\kern0pt}\ if\ i\ {\isacharless}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Nts\ P{\isacharparenright}{\kern0pt}\ then\ Lang{\isacharunderscore}{\kern0pt}lfp\ P\ {\isacharparenleft}{\kern0pt}{\isasymgamma}\ i{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{from}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharasterisk}{\kern0pt}\ True\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymgamma}{\isacharprime}{\kern0pt}\ S\ {\isacharless}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Nts\ P{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymgamma}\ {\isacharparenleft}{\kern0pt}{\isasymgamma}{\isacharprime}{\kern0pt}\ S{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ S{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ bij{\isacharunderscore}{\kern0pt}Nt{\isacharunderscore}{\kern0pt}Var{\isacharunderscore}{\kern0pt}def\ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isakeywordONE{with}\isamarkupfalse%
\ Lang{\isacharunderscore}{\kern0pt}lfp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Lang\ \isakeywordONE{have}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharasterisk}{\kern0pt}{\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Lang\ P\ S\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}sol\ {\isacharparenleft}{\kern0pt}{\isasymgamma}{\isacharprime}{\kern0pt}\ S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isakeywordONE{from}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}\ {\isacharasterisk}{\kern0pt}{\isacharasterisk}{\kern0pt}\ CFG{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}sys{\isachardot}{\kern0pt}CFL{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ sys\isanewline
\ \ \ \ \ \ \isakeywordTWO{where}\ sys{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}eq\ {\isasymin}\ set\ sys{\isachardot}{\kern0pt}\ reg{\isacharunderscore}{\kern0pt}eval\ eq{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}eq\ {\isasymin}\ set\ sys{\isachardot}{\kern0pt}\ {\isasymforall}x\ {\isasymin}\ vars\ eq{\isachardot}{\kern0pt}\ x\ {\isacharless}{\kern0pt}\ length\ sys{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymand}\ min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys\ sys\ {\isacharquery}{\kern0pt}sol{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{unfolding}\isamarkupfalse%
\ CFG{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isakeywordONE{with}\isamarkupfalse%
\ min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}comm\ \isakeywordONE{have}\isamarkupfalse%
\ sol{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm\ sys\ {\isacharquery}{\kern0pt}sol{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \isakeywordONE{from}\isamarkupfalse%
\ sys{\isacharunderscore}{\kern0pt}intro\ exists{\isacharunderscore}{\kern0pt}minimal{\isacharunderscore}{\kern0pt}reg{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}sys\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ sol{\isacharprime}{\kern0pt}\ \isakeywordTWO{where}\isanewline
\ \ \ \ \ \ sol{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}comm\ sys\ sol{\isacharprime}{\kern0pt}\ {\isasymand}\ regular{\isacharunderscore}{\kern0pt}lang\ {\isacharparenleft}{\kern0pt}sol{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymgamma}{\isacharprime}{\kern0pt}\ S{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isakeywordONE{with}\isamarkupfalse%
\ sol{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}min{\isacharunderscore}{\kern0pt}sol\ min{\isacharunderscore}{\kern0pt}sol{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}unique\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymPsi}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}sol\ {\isacharparenleft}{\kern0pt}{\isasymgamma}{\isacharprime}{\kern0pt}\ S{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymPsi}\ {\isacharparenleft}{\kern0pt}sol{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymgamma}{\isacharprime}{\kern0pt}\ S{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isakeywordONE{with}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}\ {\isacharasterisk}{\kern0pt}{\isacharasterisk}{\kern0pt}{\isacharasterisk}{\kern0pt}\ sol{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}intro\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isakeywordONE{with}\isamarkupfalse%
\ Nts{\isacharunderscore}{\kern0pt}Lhss{\isacharunderscore}{\kern0pt}Rhs{\isacharunderscore}{\kern0pt}Nts\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}S\ {\isasymnotin}\ Lhss\ P{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \isakeywordONE{from}\isamarkupfalse%
\ Lang{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}notin{\isacharunderscore}{\kern0pt}Lhss{\isacharbrackleft}{\kern0pt}OF\ this{\isacharbrackright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ lang{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isakeywordTWO{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/studium/semester_7/semantik/homeworks/AIST/Parikh/Pilling.thy%:%
%:%11=1%:%
%:%27=3%:%
%:%28=3%:%
%:%29=4%:%
%:%30=5%:%
%:%31=6%:%
%:%40=9%:%
%:%41=10%:%
%:%42=11%:%
%:%43=12%:%
%:%44=13%:%
%:%45=14%:%
%:%46=15%:%
%:%47=16%:%
%:%56=19%:%
%:%68=21%:%
%:%69=22%:%
%:%70=23%:%
%:%71=24%:%
%:%72=25%:%
%:%74=26%:%
%:%75=26%:%
%:%76=27%:%
%:%79=31%:%
%:%80=32%:%
%:%81=33%:%
%:%82=34%:%
%:%83=35%:%
%:%85=36%:%
%:%86=36%:%
%:%89=37%:%
%:%93=37%:%
%:%94=37%:%
%:%95=37%:%
%:%100=37%:%
%:%103=38%:%
%:%104=39%:%
%:%105=40%:%
%:%106=40%:%
%:%107=41%:%
%:%114=42%:%
%:%115=42%:%
%:%116=43%:%
%:%117=43%:%
%:%118=44%:%
%:%119=44%:%
%:%120=45%:%
%:%121=45%:%
%:%122=45%:%
%:%123=46%:%
%:%124=46%:%
%:%125=46%:%
%:%126=46%:%
%:%127=47%:%
%:%128=47%:%
%:%129=47%:%
%:%130=47%:%
%:%131=47%:%
%:%132=48%:%
%:%133=48%:%
%:%134=48%:%
%:%135=48%:%
%:%136=48%:%
%:%137=49%:%
%:%138=49%:%
%:%139=49%:%
%:%140=49%:%
%:%141=50%:%
%:%142=50%:%
%:%143=51%:%
%:%144=51%:%
%:%145=52%:%
%:%146=52%:%
%:%147=53%:%
%:%148=53%:%
%:%149=53%:%
%:%150=54%:%
%:%151=54%:%
%:%152=54%:%
%:%153=54%:%
%:%154=55%:%
%:%155=55%:%
%:%156=55%:%
%:%157=55%:%
%:%158=55%:%
%:%159=56%:%
%:%160=56%:%
%:%161=56%:%
%:%162=56%:%
%:%163=57%:%
%:%164=57%:%
%:%165=57%:%
%:%166=57%:%
%:%167=58%:%
%:%173=58%:%
%:%176=59%:%
%:%177=60%:%
%:%178=60%:%
%:%179=61%:%
%:%180=62%:%
%:%181=63%:%
%:%188=64%:%
%:%189=64%:%
%:%190=65%:%
%:%191=65%:%
%:%192=66%:%
%:%193=66%:%
%:%194=67%:%
%:%195=67%:%
%:%196=67%:%
%:%197=67%:%
%:%198=68%:%
%:%199=68%:%
%:%200=68%:%
%:%201=68%:%
%:%202=69%:%
%:%203=69%:%
%:%204=69%:%
%:%205=69%:%
%:%206=70%:%
%:%207=70%:%
%:%208=70%:%
%:%209=70%:%
%:%210=71%:%
%:%216=71%:%
%:%219=72%:%
%:%220=73%:%
%:%221=73%:%
%:%222=74%:%
%:%223=75%:%
%:%224=76%:%
%:%225=77%:%
%:%226=78%:%
%:%227=79%:%
%:%234=80%:%
%:%235=80%:%
%:%236=81%:%
%:%237=81%:%
%:%238=81%:%
%:%239=82%:%
%:%240=83%:%
%:%241=84%:%
%:%242=85%:%
%:%243=85%:%
%:%244=86%:%
%:%245=86%:%
%:%246=86%:%
%:%247=87%:%
%:%248=88%:%
%:%249=89%:%
%:%250=89%:%
%:%251=89%:%
%:%252=90%:%
%:%253=90%:%
%:%254=91%:%
%:%255=91%:%
%:%256=91%:%
%:%257=91%:%
%:%258=91%:%
%:%259=92%:%
%:%260=92%:%
%:%261=92%:%
%:%262=93%:%
%:%263=93%:%
%:%264=94%:%
%:%265=94%:%
%:%266=95%:%
%:%267=95%:%
%:%268=95%:%
%:%269=96%:%
%:%270=96%:%
%:%271=96%:%
%:%272=97%:%
%:%273=97%:%
%:%274=97%:%
%:%275=97%:%
%:%276=98%:%
%:%282=98%:%
%:%285=99%:%
%:%286=100%:%
%:%287=100%:%
%:%288=101%:%
%:%289=102%:%
%:%290=103%:%
%:%291=104%:%
%:%292=105%:%
%:%293=106%:%
%:%300=107%:%
%:%301=107%:%
%:%302=108%:%
%:%303=108%:%
%:%304=108%:%
%:%305=109%:%
%:%306=110%:%
%:%307=111%:%
%:%308=112%:%
%:%309=112%:%
%:%310=113%:%
%:%311=113%:%
%:%312=113%:%
%:%313=114%:%
%:%314=115%:%
%:%315=116%:%
%:%316=116%:%
%:%317=116%:%
%:%318=117%:%
%:%319=117%:%
%:%320=118%:%
%:%321=118%:%
%:%322=119%:%
%:%323=119%:%
%:%324=120%:%
%:%325=120%:%
%:%326=121%:%
%:%327=121%:%
%:%328=122%:%
%:%329=122%:%
%:%330=123%:%
%:%331=123%:%
%:%332=123%:%
%:%333=124%:%
%:%334=124%:%
%:%335=125%:%
%:%336=125%:%
%:%337=126%:%
%:%338=126%:%
%:%339=127%:%
%:%340=127%:%
%:%341=127%:%
%:%342=128%:%
%:%343=128%:%
%:%344=129%:%
%:%345=129%:%
%:%346=129%:%
%:%347=130%:%
%:%348=131%:%
%:%349=131%:%
%:%350=131%:%
%:%351=132%:%
%:%352=132%:%
%:%353=132%:%
%:%354=133%:%
%:%355=134%:%
%:%356=134%:%
%:%357=134%:%
%:%358=135%:%
%:%359=135%:%
%:%360=135%:%
%:%361=136%:%
%:%362=137%:%
%:%363=137%:%
%:%364=138%:%
%:%365=138%:%
%:%366=138%:%
%:%367=139%:%
%:%368=139%:%
%:%369=140%:%
%:%370=140%:%
%:%371=140%:%
%:%372=140%:%
%:%373=141%:%
%:%374=141%:%
%:%375=142%:%
%:%376=142%:%
%:%377=142%:%
%:%378=142%:%
%:%379=142%:%
%:%380=142%:%
%:%381=143%:%
%:%382=143%:%
%:%383=143%:%
%:%384=144%:%
%:%385=144%:%
%:%386=144%:%
%:%387=145%:%
%:%388=145%:%
%:%389=145%:%
%:%390=145%:%
%:%391=146%:%
%:%397=146%:%
%:%400=147%:%
%:%401=148%:%
%:%402=148%:%
%:%403=149%:%
%:%404=150%:%
%:%405=151%:%
%:%406=152%:%
%:%413=153%:%
%:%414=153%:%
%:%415=154%:%
%:%416=154%:%
%:%417=154%:%
%:%418=155%:%
%:%419=155%:%
%:%420=156%:%
%:%421=156%:%
%:%422=156%:%
%:%423=157%:%
%:%424=157%:%
%:%425=157%:%
%:%426=158%:%
%:%427=158%:%
%:%428=159%:%
%:%429=159%:%
%:%430=160%:%
%:%431=160%:%
%:%432=161%:%
%:%433=161%:%
%:%434=162%:%
%:%435=162%:%
%:%436=163%:%
%:%437=163%:%
%:%438=164%:%
%:%439=164%:%
%:%440=165%:%
%:%441=165%:%
%:%442=166%:%
%:%443=166%:%
%:%444=166%:%
%:%445=167%:%
%:%446=167%:%
%:%447=167%:%
%:%448=168%:%
%:%449=168%:%
%:%450=168%:%
%:%451=169%:%
%:%452=170%:%
%:%453=170%:%
%:%454=171%:%
%:%455=171%:%
%:%456=171%:%
%:%457=172%:%
%:%458=172%:%
%:%459=173%:%
%:%460=173%:%
%:%461=173%:%
%:%462=174%:%
%:%463=175%:%
%:%464=175%:%
%:%465=175%:%
%:%466=176%:%
%:%467=176%:%
%:%468=176%:%
%:%469=177%:%
%:%470=177%:%
%:%471=178%:%
%:%472=178%:%
%:%473=178%:%
%:%474=178%:%
%:%475=179%:%
%:%476=179%:%
%:%477=179%:%
%:%478=179%:%
%:%479=180%:%
%:%480=180%:%
%:%481=181%:%
%:%482=181%:%
%:%483=181%:%
%:%484=181%:%
%:%485=181%:%
%:%486=181%:%
%:%487=182%:%
%:%488=182%:%
%:%489=182%:%
%:%490=182%:%
%:%491=182%:%
%:%492=183%:%
%:%493=183%:%
%:%494=183%:%
%:%495=183%:%
%:%496=184%:%
%:%502=184%:%
%:%505=185%:%
%:%506=186%:%
%:%507=186%:%
%:%509=188%:%
%:%516=189%:%
%:%517=189%:%
%:%518=190%:%
%:%519=190%:%
%:%520=191%:%
%:%521=191%:%
%:%522=191%:%
%:%523=191%:%
%:%524=192%:%
%:%525=192%:%
%:%526=193%:%
%:%527=193%:%
%:%528=194%:%
%:%529=194%:%
%:%530=194%:%
%:%531=194%:%
%:%532=195%:%
%:%533=195%:%
%:%534=195%:%
%:%535=195%:%
%:%536=196%:%
%:%537=196%:%
%:%538=197%:%
%:%539=197%:%
%:%540=198%:%
%:%541=198%:%
%:%542=198%:%
%:%543=199%:%
%:%544=200%:%
%:%545=200%:%
%:%546=201%:%
%:%547=201%:%
%:%548=201%:%
%:%549=201%:%
%:%550=202%:%
%:%551=202%:%
%:%552=203%:%
%:%553=203%:%
%:%554=204%:%
%:%555=204%:%
%:%556=204%:%
%:%557=205%:%
%:%558=206%:%
%:%559=206%:%
%:%560=207%:%
%:%561=207%:%
%:%562=207%:%
%:%563=207%:%
%:%564=208%:%
%:%565=208%:%
%:%566=209%:%
%:%567=209%:%
%:%568=210%:%
%:%569=210%:%
%:%570=210%:%
%:%571=211%:%
%:%572=211%:%
%:%573=212%:%
%:%574=212%:%
%:%575=212%:%
%:%576=212%:%
%:%577=213%:%
%:%592=216%:%
%:%604=218%:%
%:%605=219%:%
%:%606=220%:%
%:%607=221%:%
%:%609=223%:%
%:%610=223%:%
%:%611=224%:%
%:%612=225%:%
%:%613=226%:%
%:%614=227%:%
%:%615=228%:%
%:%616=229%:%
%:%617=230%:%
%:%619=232%:%
%:%620=233%:%
%:%621=234%:%
%:%622=235%:%
%:%624=236%:%
%:%625=236%:%
%:%626=237%:%
%:%627=237%:%
%:%628=238%:%
%:%629=239%:%
%:%630=239%:%
%:%637=240%:%
%:%638=240%:%
%:%639=241%:%
%:%640=241%:%
%:%641=241%:%
%:%642=242%:%
%:%643=242%:%
%:%644=242%:%
%:%645=243%:%
%:%646=243%:%
%:%647=243%:%
%:%648=243%:%
%:%649=244%:%
%:%655=244%:%
%:%658=245%:%
%:%659=246%:%
%:%660=246%:%
%:%667=247%:%
%:%668=247%:%
%:%669=248%:%
%:%670=248%:%
%:%671=249%:%
%:%672=249%:%
%:%673=250%:%
%:%674=250%:%
%:%675=250%:%
%:%676=250%:%
%:%677=251%:%
%:%678=251%:%
%:%679=252%:%
%:%680=252%:%
%:%681=253%:%
%:%682=253%:%
%:%683=254%:%
%:%684=254%:%
%:%685=255%:%
%:%686=255%:%
%:%687=255%:%
%:%688=256%:%
%:%689=256%:%
%:%690=256%:%
%:%691=257%:%
%:%692=257%:%
%:%693=258%:%
%:%694=258%:%
%:%695=259%:%
%:%696=259%:%
%:%697=260%:%
%:%698=260%:%
%:%699=260%:%
%:%700=260%:%
%:%701=261%:%
%:%702=261%:%
%:%703=262%:%
%:%704=262%:%
%:%705=263%:%
%:%706=263%:%
%:%707=263%:%
%:%708=263%:%
%:%709=264%:%
%:%710=264%:%
%:%711=265%:%
%:%712=265%:%
%:%713=266%:%
%:%714=266%:%
%:%715=266%:%
%:%716=266%:%
%:%717=267%:%
%:%723=267%:%
%:%726=268%:%
%:%727=269%:%
%:%728=269%:%
%:%735=270%:%
%:%736=270%:%
%:%737=270%:%
%:%738=271%:%
%:%739=271%:%
%:%740=272%:%
%:%741=272%:%
%:%742=273%:%
%:%743=273%:%
%:%744=274%:%
%:%745=274%:%
%:%746=275%:%
%:%747=275%:%
%:%748=276%:%
%:%749=276%:%
%:%750=277%:%
%:%751=277%:%
%:%752=278%:%
%:%753=278%:%
%:%754=278%:%
%:%755=279%:%
%:%756=279%:%
%:%757=279%:%
%:%758=279%:%
%:%759=279%:%
%:%760=280%:%
%:%761=280%:%
%:%762=280%:%
%:%763=281%:%
%:%764=281%:%
%:%765=282%:%
%:%766=282%:%
%:%767=282%:%
%:%768=283%:%
%:%769=283%:%
%:%770=283%:%
%:%771=284%:%
%:%772=284%:%
%:%773=284%:%
%:%774=285%:%
%:%775=286%:%
%:%776=286%:%
%:%777=287%:%
%:%778=287%:%
%:%779=287%:%
%:%780=288%:%
%:%781=289%:%
%:%782=289%:%
%:%783=289%:%
%:%784=290%:%
%:%785=290%:%
%:%786=290%:%
%:%787=291%:%
%:%788=291%:%
%:%789=292%:%
%:%790=292%:%
%:%791=293%:%
%:%792=293%:%
%:%793=293%:%
%:%794=293%:%
%:%795=293%:%
%:%796=294%:%
%:%797=294%:%
%:%798=294%:%
%:%799=294%:%
%:%800=294%:%
%:%801=295%:%
%:%802=295%:%
%:%803=295%:%
%:%804=296%:%
%:%805=296%:%
%:%806=296%:%
%:%807=297%:%
%:%808=297%:%
%:%809=297%:%
%:%810=297%:%
%:%811=297%:%
%:%812=298%:%
%:%818=298%:%
%:%821=299%:%
%:%822=300%:%
%:%823=300%:%
%:%824=301%:%
%:%825=302%:%
%:%826=303%:%
%:%833=304%:%
%:%834=304%:%
%:%835=305%:%
%:%836=305%:%
%:%837=305%:%
%:%838=306%:%
%:%839=306%:%
%:%840=306%:%
%:%841=307%:%
%:%842=307%:%
%:%843=307%:%
%:%844=308%:%
%:%845=308%:%
%:%846=308%:%
%:%847=309%:%
%:%848=309%:%
%:%849=309%:%
%:%850=309%:%
%:%851=310%:%
%:%852=310%:%
%:%853=310%:%
%:%854=311%:%
%:%855=311%:%
%:%856=311%:%
%:%857=312%:%
%:%858=312%:%
%:%859=312%:%
%:%860=313%:%
%:%861=313%:%
%:%862=313%:%
%:%863=314%:%
%:%864=314%:%
%:%865=314%:%
%:%866=315%:%
%:%867=315%:%
%:%868=315%:%
%:%869=316%:%
%:%870=316%:%
%:%871=316%:%
%:%872=316%:%
%:%873=317%:%
%:%883=319%:%
%:%885=320%:%
%:%886=320%:%
%:%887=321%:%
%:%890=322%:%
%:%894=322%:%
%:%895=322%:%
%:%896=323%:%
%:%897=323%:%
%:%898=324%:%
%:%899=324%:%
%:%904=324%:%
%:%907=325%:%
%:%908=326%:%
%:%911=329%:%
%:%912=330%:%
%:%913=331%:%
%:%915=332%:%
%:%916=332%:%
%:%917=333%:%
%:%918=334%:%
%:%925=335%:%
%:%926=335%:%
%:%927=336%:%
%:%928=336%:%
%:%929=336%:%
%:%930=337%:%
%:%931=338%:%
%:%932=338%:%
%:%933=339%:%
%:%934=339%:%
%:%935=339%:%
%:%936=340%:%
%:%937=341%:%
%:%938=341%:%
%:%939=341%:%
%:%940=342%:%
%:%941=342%:%
%:%942=343%:%
%:%943=343%:%
%:%944=343%:%
%:%945=344%:%
%:%946=344%:%
%:%947=344%:%
%:%948=344%:%
%:%949=345%:%
%:%950=345%:%
%:%951=345%:%
%:%952=346%:%
%:%953=346%:%
%:%954=346%:%
%:%955=347%:%
%:%956=347%:%
%:%957=347%:%
%:%958=347%:%
%:%959=348%:%
%:%974=351%:%
%:%986=353%:%
%:%987=354%:%
%:%988=355%:%
%:%989=356%:%
%:%990=357%:%
%:%991=358%:%
%:%992=359%:%
%:%993=360%:%
%:%995=362%:%
%:%996=362%:%
%:%997=363%:%
%:%998=364%:%
%:%999=365%:%
%:%1000=366%:%
%:%1001=367%:%
%:%1002=368%:%
%:%1003=369%:%
%:%1004=370%:%
%:%1005=371%:%
%:%1006=372%:%
%:%1007=373%:%
%:%1008=374%:%
%:%1010=376%:%
%:%1011=377%:%
%:%1012=378%:%
%:%1013=379%:%
%:%1014=380%:%
%:%1016=381%:%
%:%1017=381%:%
%:%1018=382%:%
%:%1019=382%:%
%:%1020=383%:%
%:%1021=384%:%
%:%1022=384%:%
%:%1025=385%:%
%:%1029=385%:%
%:%1030=385%:%
%:%1031=385%:%
%:%1032=385%:%
%:%1041=388%:%
%:%1042=389%:%
%:%1044=390%:%
%:%1045=390%:%
%:%1048=391%:%
%:%1052=391%:%
%:%1053=391%:%
%:%1054=391%:%
%:%1055=391%:%
%:%1060=391%:%
%:%1063=392%:%
%:%1064=393%:%
%:%1065=393%:%
%:%1072=394%:%
%:%1073=394%:%
%:%1074=394%:%
%:%1075=395%:%
%:%1076=395%:%
%:%1077=396%:%
%:%1078=396%:%
%:%1079=397%:%
%:%1080=397%:%
%:%1081=397%:%
%:%1082=397%:%
%:%1083=398%:%
%:%1084=398%:%
%:%1085=398%:%
%:%1086=399%:%
%:%1087=399%:%
%:%1088=399%:%
%:%1089=400%:%
%:%1090=400%:%
%:%1091=400%:%
%:%1092=401%:%
%:%1093=401%:%
%:%1094=401%:%
%:%1095=402%:%
%:%1096=402%:%
%:%1097=403%:%
%:%1098=403%:%
%:%1099=404%:%
%:%1100=404%:%
%:%1101=405%:%
%:%1102=405%:%
%:%1103=405%:%
%:%1104=406%:%
%:%1105=406%:%
%:%1106=407%:%
%:%1107=407%:%
%:%1108=407%:%
%:%1109=408%:%
%:%1110=408%:%
%:%1111=408%:%
%:%1112=409%:%
%:%1113=409%:%
%:%1114=409%:%
%:%1115=410%:%
%:%1116=410%:%
%:%1117=410%:%
%:%1118=411%:%
%:%1124=411%:%
%:%1127=412%:%
%:%1128=413%:%
%:%1129=413%:%
%:%1131=415%:%
%:%1138=416%:%
%:%1139=416%:%
%:%1140=417%:%
%:%1141=417%:%
%:%1142=418%:%
%:%1143=418%:%
%:%1144=419%:%
%:%1145=419%:%
%:%1146=419%:%
%:%1147=419%:%
%:%1148=419%:%
%:%1149=420%:%
%:%1150=420%:%
%:%1151=420%:%
%:%1152=421%:%
%:%1153=421%:%
%:%1154=421%:%
%:%1155=422%:%
%:%1156=422%:%
%:%1157=423%:%
%:%1158=423%:%
%:%1159=423%:%
%:%1160=424%:%
%:%1161=424%:%
%:%1162=425%:%
%:%1163=425%:%
%:%1164=425%:%
%:%1165=426%:%
%:%1166=426%:%
%:%1167=426%:%
%:%1168=427%:%
%:%1169=427%:%
%:%1170=427%:%
%:%1171=428%:%
%:%1172=428%:%
%:%1173=428%:%
%:%1174=428%:%
%:%1175=429%:%
%:%1176=429%:%
%:%1177=429%:%
%:%1178=430%:%
%:%1179=430%:%
%:%1180=430%:%
%:%1181=431%:%
%:%1182=431%:%
%:%1183=432%:%
%:%1184=432%:%
%:%1185=432%:%
%:%1186=432%:%
%:%1187=433%:%
%:%1188=433%:%
%:%1189=433%:%
%:%1190=434%:%
%:%1191=434%:%
%:%1192=434%:%
%:%1193=435%:%
%:%1199=435%:%
%:%1202=436%:%
%:%1203=437%:%
%:%1204=437%:%
%:%1207=438%:%
%:%1211=438%:%
%:%1212=438%:%
%:%1213=438%:%
%:%1214=438%:%
%:%1219=438%:%
%:%1222=439%:%
%:%1223=440%:%
%:%1224=440%:%
%:%1231=441%:%
%:%1232=441%:%
%:%1233=442%:%
%:%1234=442%:%
%:%1235=442%:%
%:%1236=443%:%
%:%1237=443%:%
%:%1238=443%:%
%:%1239=444%:%
%:%1240=444%:%
%:%1241=444%:%
%:%1242=445%:%
%:%1243=445%:%
%:%1244=445%:%
%:%1245=446%:%
%:%1246=446%:%
%:%1247=446%:%
%:%1248=447%:%
%:%1249=447%:%
%:%1250=447%:%
%:%1251=448%:%
%:%1252=448%:%
%:%1253=448%:%
%:%1254=449%:%
%:%1255=449%:%
%:%1256=449%:%
%:%1257=449%:%
%:%1258=450%:%
%:%1259=450%:%
%:%1260=450%:%
%:%1261=450%:%
%:%1262=451%:%
%:%1263=451%:%
%:%1264=451%:%
%:%1265=452%:%
%:%1266=452%:%
%:%1267=452%:%
%:%1268=453%:%
%:%1269=453%:%
%:%1270=453%:%
%:%1271=454%:%
%:%1272=454%:%
%:%1273=455%:%
%:%1274=455%:%
%:%1275=455%:%
%:%1276=456%:%
%:%1277=456%:%
%:%1278=456%:%
%:%1279=457%:%
%:%1280=457%:%
%:%1281=457%:%
%:%1282=458%:%
%:%1283=458%:%
%:%1284=458%:%
%:%1285=459%:%
%:%1286=459%:%
%:%1287=459%:%
%:%1288=459%:%
%:%1289=460%:%
%:%1299=463%:%
%:%1300=464%:%
%:%1301=465%:%
%:%1303=466%:%
%:%1304=466%:%
%:%1307=467%:%
%:%1311=467%:%
%:%1312=467%:%
%:%1313=468%:%
%:%1314=468%:%
%:%1315=469%:%
%:%1316=469%:%
%:%1321=469%:%
%:%1324=470%:%
%:%1325=471%:%
%:%1326=471%:%
%:%1327=472%:%
%:%1330=473%:%
%:%1334=473%:%
%:%1335=473%:%
%:%1336=473%:%
%:%1341=473%:%
%:%1344=474%:%
%:%1345=475%:%
%:%1348=478%:%
%:%1349=479%:%
%:%1350=480%:%
%:%1352=481%:%
%:%1353=481%:%
%:%1354=482%:%
%:%1355=483%:%
%:%1356=484%:%
%:%1357=485%:%
%:%1364=486%:%
%:%1365=486%:%
%:%1366=486%:%
%:%1367=487%:%
%:%1368=487%:%
%:%1369=488%:%
%:%1370=488%:%
%:%1371=489%:%
%:%1372=489%:%
%:%1373=489%:%
%:%1374=490%:%
%:%1375=490%:%
%:%1376=490%:%
%:%1377=490%:%
%:%1378=490%:%
%:%1379=491%:%
%:%1380=491%:%
%:%1381=492%:%
%:%1382=492%:%
%:%1383=493%:%
%:%1384=493%:%
%:%1385=493%:%
%:%1386=494%:%
%:%1387=494%:%
%:%1388=495%:%
%:%1389=495%:%
%:%1390=496%:%
%:%1391=496%:%
%:%1392=496%:%
%:%1393=496%:%
%:%1394=497%:%
%:%1395=497%:%
%:%1396=497%:%
%:%1397=498%:%
%:%1398=498%:%
%:%1399=498%:%
%:%1400=499%:%
%:%1401=499%:%
%:%1402=499%:%
%:%1403=500%:%
%:%1404=501%:%
%:%1405=501%:%
%:%1406=501%:%
%:%1407=502%:%
%:%1408=502%:%
%:%1409=502%:%
%:%1410=503%:%
%:%1411=503%:%
%:%1412=503%:%
%:%1413=504%:%
%:%1414=504%:%
%:%1415=504%:%
%:%1416=504%:%
%:%1417=505%:%
%:%1423=505%:%
%:%1426=506%:%
%:%1427=507%:%
%:%1428=507%:%
%:%1429=508%:%
%:%1430=509%:%
%:%1431=510%:%
%:%1438=511%:%
%:%1439=511%:%
%:%1440=512%:%
%:%1441=512%:%
%:%1442=512%:%
%:%1443=513%:%
%:%1444=514%:%
%:%1445=514%:%
%:%1446=514%:%
%:%1447=515%:%
%:%1448=515%:%
%:%1449=515%:%
%:%1450=516%:%
%:%1451=517%:%
%:%1452=517%:%
%:%1453=518%:%
%:%1454=518%:%
%:%1455=518%:%
%:%1456=519%:%
%:%1457=519%:%
%:%1458=519%:%
%:%1459=519%:%
%:%1460=520%:%
%:%1461=520%:%
%:%1462=520%:%
%:%1463=521%:%
%:%1464=521%:%
%:%1465=521%:%
%:%1466=522%:%
%:%1467=522%:%
%:%1468=522%:%
%:%1469=523%:%
%:%1470=523%:%
%:%1471=524%:%
%:%1472=524%:%
%:%1473=525%:%
%:%1474=525%:%
%:%1475=525%:%
%:%1476=526%:%
%:%1477=527%:%
%:%1478=527%:%
%:%1479=528%:%
%:%1480=528%:%
%:%1481=528%:%
%:%1482=528%:%
%:%1483=529%:%
%:%1484=529%:%
%:%1485=529%:%
%:%1486=530%:%
%:%1487=530%:%
%:%1488=531%:%
%:%1489=531%:%
%:%1490=532%:%
%:%1491=532%:%
%:%1492=532%:%
%:%1493=533%:%
%:%1494=533%:%
%:%1495=534%:%
%:%1496=534%:%
%:%1497=535%:%
%:%1498=535%:%
%:%1499=536%:%
%:%1500=536%:%
%:%1501=537%:%
%:%1502=537%:%
%:%1503=537%:%
%:%1504=537%:%
%:%1505=538%:%
%:%1506=538%:%
%:%1507=538%:%
%:%1508=538%:%
%:%1509=539%:%
%:%1510=539%:%
%:%1511=539%:%
%:%1512=540%:%
%:%1513=540%:%
%:%1514=540%:%
%:%1515=541%:%
%:%1516=541%:%
%:%1517=542%:%
%:%1518=542%:%
%:%1519=543%:%
%:%1520=543%:%
%:%1521=543%:%
%:%1522=543%:%
%:%1523=543%:%
%:%1524=544%:%
%:%1525=544%:%
%:%1526=544%:%
%:%1527=544%:%
%:%1528=545%:%
%:%1543=549%:%
%:%1555=551%:%
%:%1556=552%:%
%:%1558=553%:%
%:%1559=553%:%
%:%1566=554%:%
%:%1567=554%:%
%:%1568=555%:%
%:%1569=555%:%
%:%1570=556%:%
%:%1571=556%:%
%:%1572=556%:%
%:%1573=556%:%
%:%1574=556%:%
%:%1575=557%:%
%:%1576=557%:%
%:%1577=558%:%
%:%1578=558%:%
%:%1579=559%:%
%:%1580=559%:%
%:%1581=560%:%
%:%1582=560%:%
%:%1583=560%:%
%:%1584=560%:%
%:%1585=561%:%
%:%1586=561%:%
%:%1587=562%:%
%:%1588=562%:%
%:%1589=562%:%
%:%1590=563%:%
%:%1591=563%:%
%:%1592=563%:%
%:%1593=564%:%
%:%1594=564%:%
%:%1595=564%:%
%:%1596=564%:%
%:%1597=565%:%
%:%1598=565%:%
%:%1599=565%:%
%:%1600=566%:%
%:%1601=567%:%
%:%1602=568%:%
%:%1603=568%:%
%:%1604=568%:%
%:%1605=569%:%
%:%1606=569%:%
%:%1607=569%:%
%:%1608=569%:%
%:%1609=570%:%
%:%1610=570%:%
%:%1611=570%:%
%:%1612=571%:%
%:%1613=571%:%
%:%1614=572%:%
%:%1615=572%:%
%:%1616=572%:%
%:%1617=573%:%
%:%1618=573%:%
%:%1619=574%:%
%:%1620=574%:%
%:%1621=574%:%
%:%1622=574%:%
%:%1623=575%:%
%:%1624=575%:%
%:%1625=576%:%
%:%1626=576%:%
%:%1627=577%:%
%:%1628=577%:%
%:%1629=577%:%
%:%1630=577%:%
%:%1631=578%:%
%:%1632=578%:%
%:%1633=578%:%
%:%1634=578%:%
%:%1635=579%:%
%:%1636=579%:%
%:%1637=580%:%
%:%1643=580%:%
%:%1648=581%:%
%:%1653=582%:%
